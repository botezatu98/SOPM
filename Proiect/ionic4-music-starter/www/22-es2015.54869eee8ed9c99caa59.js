(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{k0NY:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),i=u("mrSG"),e=u("Ie7a");class r{constructor(l){this.musicService=l,this.searchTerm="",this.searching=!1}setFilteredItems(){return i.b(this,void 0,void 0,function*(){if(this.searching=!0,this.searchTerm){const l=yield this.musicService.searchTracks(this.searchTerm);this.items=l.tracks.items.filter(l=>l.preview_url)}else this.items=[];this.searching=!1})}play(l){console.log(l),this.audioSong&&this.audioSong.pause();const n=this.items.filter(l=>l.playing);n[0]&&(n[0].playing=!1),l.playing=!0,this.audioSong=new Audio(l.preview_url),this.audioSong.play()}pause(l){this.audioSong.pause(),l.playing=!1}}class s{}var a=u("pMnS"),o=u("oBZk"),b=u("ZZ/e"),c=u("SVse"),h=u("s7LF"),p=t.qb({encapsulation:0,styles:[[""]],data:{}});function g(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","spinner-container"],["text-center",""]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"ion-spinner",[],null,null,null,o.cb,o.x)),t.rb(2,49152,null,0,b.ob,[t.h,t.k,t.x],null,null)],null,null)}function m(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,1,"ion-icon",[["name","play"],["slot","end"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.play(l.parent.context.$implicit)&&t),t},o.O,o.j)),t.rb(1,49152,null,0,b.z,[t.h,t.k,t.x],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"play")},null)}function d(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,1,"ion-icon",[["name","pause"],["slot","end"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.pause(l.parent.context.$implicit)&&t),t},o.O,o.j)),t.rb(1,49152,null,0,b.z,[t.h,t.k,t.x],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"pause")},null)}function f(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,1,"ion-spinner",[["name","dots"],["slot","end"]],null,null,null,o.cb,o.x)),t.rb(1,49152,null,0,b.ob,[t.h,t.k,t.x],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"dots")},null)}function x(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,8,"ion-item",[],null,null,null,o.Q,o.l)),t.rb(1,49152,null,0,b.E,[t.h,t.k,t.x],null,null),(l()(),t.Ib(2,0,[" "," "])),(l()(),t.hb(16777216,null,0,1,null,m)),t.rb(4,16384,null,0,c.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,0,1,null,d)),t.rb(6,16384,null,0,c.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,0,1,null,f)),t.rb(8,16384,null,0,c.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,!n.context.$implicit.playing),l(n,6,0,n.context.$implicit.playing),l(n,8,0,n.context.$implicit.playing)},function(l,n){l(n,2,0,n.context.$implicit.name)})}function k(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,15,"ion-header",[],null,null,null,o.N,o.i)),t.rb(1,49152,null,0,b.y,[t.h,t.k,t.x],null,null),(l()(),t.sb(2,0,null,0,13,"ion-toolbar",[["text-center",""]],null,null,null,o.ib,o.D)),t.rb(3,49152,null,0,b.yb,[t.h,t.k,t.x],null,null),(l()(),t.sb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.I,o.d)),t.rb(5,49152,null,0,b.i,[t.h,t.k,t.x],null,null),(l()(),t.sb(6,0,null,0,2,"ion-avatar",[["class","header-avatar"]],null,null,null,o.G,o.b)),t.rb(7,49152,null,0,b.d,[t.h,t.k,t.x],null,null),(l()(),t.sb(8,0,null,0,0,"img",[["alt","User Image"],["src","assets/img/user.jpg"]],null,null,null,null,null)),(l()(),t.sb(9,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,o.I,o.d)),t.rb(10,49152,null,0,b.i,[t.h,t.k,t.x],null,null),(l()(),t.sb(11,0,null,0,1,"ion-menu-button",[],null,null,null,o.T,o.p)),t.rb(12,49152,null,0,b.O,[t.h,t.k,t.x],null,null),(l()(),t.sb(13,0,null,0,2,"ion-title",[["text-center",""]],null,null,null,o.hb,o.C)),t.rb(14,49152,null,0,b.wb,[t.h,t.k,t.x],null,null),(l()(),t.sb(15,0,null,0,0,"img",[["alt","Platzi Logo"],["height","32px"],["src","assets/img/logo.png"]],null,null,null,null,null)),(l()(),t.sb(16,0,null,null,17,"ion-content",[["padding",""]],null,null,null,o.K,o.f)),t.rb(17,49152,null,0,b.r,[t.h,t.k,t.x],null,null),(l()(),t.sb(18,0,null,0,6,"ion-searchbar",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,n,u){var i=!0,e=l.component;return"ionBlur"===n&&(i=!1!==t.Eb(l,19)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==t.Eb(l,19)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(e.searchTerm=u)&&i),"ionChange"===n&&(i=!1!==e.setFilteredItems()&&i),i},o.Y,o.t)),t.rb(19,16384,null,0,b.Kb,[t.k],null,null),t.Fb(1024,null,h.h,function(l){return[l]},[b.Kb]),t.rb(21,671744,null,0,h.l,[[8,null],[8,null],[8,null],[6,h.h]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,h.i,null,[h.l]),t.rb(23,16384,null,0,h.j,[[4,h.i]],null,null),t.rb(24,49152,null,0,b.gb,[t.h,t.k,t.x],null,null),(l()(),t.hb(16777216,null,0,1,null,g)),t.rb(26,16384,null,0,c.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(27,0,null,0,6,"ion-virtual-scroll",[["approxItemHeight","50px"]],null,null,null,o.jb,o.E)),t.rb(28,835584,null,3,b.zb,[t.x,t.q,t.k],{approxItemHeight:[0,"approxItemHeight"],items:[1,"items"]},null),t.Gb(335544320,1,{itmTmp:0}),t.Gb(335544320,2,{hdrTmp:0}),t.Gb(335544320,3,{ftrTmp:0}),(l()(),t.hb(16777216,null,0,1,null,x)),t.rb(33,16384,[[1,4]],0,b.Lb,[t.K,t.N],null,null)],function(l,n){var u=n.component;l(n,21,0,u.searchTerm),l(n,26,0,u.searching),l(n,28,0,"50px",u.items)},function(l,n){l(n,18,0,t.Eb(n,23).ngClassUntouched,t.Eb(n,23).ngClassTouched,t.Eb(n,23).ngClassPristine,t.Eb(n,23).ngClassDirty,t.Eb(n,23).ngClassValid,t.Eb(n,23).ngClassInvalid,t.Eb(n,23).ngClassPending)})}function C(l){return t.Jb(0,[(l()(),t.sb(0,0,null,null,1,"app-search",[],null,null,null,k,p)),t.rb(1,49152,null,0,r,[e.a],null,null)],null,null)}var v=t.ob("app-search",r,C,{},{},[]),I=u("iInd");u.d(n,"SearchPageModuleNgFactory",function(){return y});var y=t.pb(s,[],function(l){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[a.a,v]],[3,t.j],t.v]),t.Cb(4608,c.k,c.j,[t.s,[2,c.q]]),t.Cb(4608,h.q,h.q,[]),t.Cb(4608,b.a,b.a,[t.x,t.g]),t.Cb(4608,b.Eb,b.Eb,[b.a,t.j,t.p]),t.Cb(4608,b.Ib,b.Ib,[b.a,t.j,t.p]),t.Cb(1073742336,c.b,c.b,[]),t.Cb(1073742336,h.p,h.p,[]),t.Cb(1073742336,h.f,h.f,[]),t.Cb(1073742336,b.Ab,b.Ab,[]),t.Cb(1073742336,I.o,I.o,[[2,I.t],[2,I.m]]),t.Cb(1073742336,s,s,[]),t.Cb(1024,I.k,function(){return[[{path:"",component:r}]]},[])])})}}]);